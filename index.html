<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ä¸–ç•Œé¦–éƒ½å¤§æŒ‘æˆ° (å…¨çƒå®Œæ•´ç‰ˆ)</title>
    <style>
        :root {
            /* åœ°ç†/åœ°çƒé¢¨æ ¼é…è‰² */
            --primary: #0277bd;   /* æµ·æ´‹è— */
            --secondary: #29b6f6; /* å¤©ç©ºè— */
            --accent: #fbc02d;    /* é‡‘é»ƒçç‰Œ */
            --bg: #f5f7fa;        /* é›²æœµç°ç™½ */
            --text: #37474f;      /* å²©çŸ³æ·±ç° */
            --card-bg: #ffffff;
            
            /* åœ°å€æ¨™ç±¤é¡è‰² */
            --reg-asia: #e53935;    /* äºï¼šç´… */
            --reg-europe: #1e88e5;  /* æ­ï¼šè— */
            --reg-americas: #43a047;/* ç¾ï¼šç¶  */
            --reg-oceania: #fb8c00; /* æ´‹ï¼šæ©˜ */
            --reg-africa: #8e24aa;  /* éï¼šç´« */
        }

        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }

        body {
            font-family: "Noto Sans TC", "Microsoft JhengHei", -apple-system, BlinkMacSystemFont, sans-serif;
            background-color: var(--bg);
            color: var(--text);
            margin: 0; padding: 0; padding-bottom: 80px;
            overflow-x: hidden;
        }

        /* --- Header --- */
        header {
            background: linear-gradient(135deg, #01579b, #0288d1);
            color: white;
            padding: 1.5rem 1rem;
            text-align: center;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
            position: sticky; top: 0; z-index: 100;
        }
        h1 { margin: 0; font-size: 1.6rem; letter-spacing: 1px; }
        .subtitle { font-size: 0.85rem; opacity: 0.9; margin-top: 6px; }

        /* --- Navigation --- */
        .nav {
            display: flex; justify-content: flex-start;
            gap: 10px; padding: 10px 15px;
            background: white; border-bottom: 1px solid #cfd8dc;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
            position: sticky; top: 82px; z-index: 90;
            overflow-x: auto; -webkit-overflow-scrolling: touch;
            scrollbar-width: none;
        }
        .nav::-webkit-scrollbar { display: none; }
        
        .nav-btn {
            padding: 8px 18px; border: none; border-radius: 50px;
            background: #eceff1; color: #546e7a; cursor: pointer;
            font-weight: bold; transition: all 0.2s; 
            font-size: 0.9rem; white-space: nowrap; flex-shrink: 0;
        }
        .nav-btn.active {
            background: var(--primary); color: white;
            box-shadow: 0 3px 6px rgba(2, 119, 189, 0.3);
        }

        .container { 
            max-width: 1000px; margin: 0 auto; padding: 15px; min-height: 80vh;
        }
        .section { display: none; animation: fadeIn 0.3s ease-out; }
        .section.active { display: block; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(5px); } to { opacity: 1; transform: translateY(0); } }

        /* --- Daily Card --- */
        .daily-container { width: 100%; max-width: 480px; margin: 0 auto; text-align: center; }
        .card-scene {
            perspective: 1000px; width: 100%; height: min(550px, 60vh);
            margin: 20px auto; position: relative;
        }
        .card-inner {
            position: relative; width: 100%; height: 100%; text-align: center;
            transition: transform 0.6s cubic-bezier(0.175, 0.885, 0.32, 1.275); 
            transform-style: preserve-3d;
        }
        .card-inner.is-flipped { transform: rotateY(180deg); }
        
        .card-face {
            position: absolute; width: 100%; height: 100%;
            backface-visibility: hidden; -webkit-backface-visibility: hidden;
            border-radius: 16px; box-shadow: 0 10px 25px rgba(0,0,0,0.1);
            display: flex; flex-direction: column; justify-content: center; align-items: center;
            overflow: hidden; background: white;
        }
        .card-front {
            background: linear-gradient(135deg, #29b6f6, #0277bd);
            color: white; border: 4px solid #e1f5fe; z-index: 2; cursor: pointer;
        }
        .card-back {
            transform: rotateY(180deg); padding: 0; justify-content: flex-start;
            border: 1px solid #ddd; background: #fff; z-index: 1;
        }
        
        .daily-img-wrapper { 
            width: 100%; height: 50%; background: #eee; position: relative;
            display: flex; align-items: center; justify-content: center; overflow: hidden;
        }
        .daily-img { width: 100%; height: 100%; object-fit: cover; }
        .daily-info-box { 
            padding: 20px; text-align: left; height: 50%; 
            overflow-y: auto; -webkit-overflow-scrolling: touch;
        }

        /* --- Grid & List --- */
        .tools-bar {
            background: white; padding: 15px; border-radius: 12px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05); margin-bottom: 20px;
        }
        .search-box {
            width: 100%; padding: 10px; border: 2px solid #b3e5fc;
            border-radius: 8px; font-size: 1rem; margin-bottom: 12px;
        }
        .filter-scroll { 
            display: flex; gap: 8px; overflow-x: auto; padding-bottom: 5px; 
            scrollbar-width: none;
        }
        .filter-tag {
            padding: 6px 14px; border-radius: 15px; background: #eceff1;
            border: 1px solid #b0bec5; cursor: pointer; font-size: 0.85rem;
            color: #455a64; white-space: nowrap; flex-shrink: 0;
        }
        .filter-tag.active { background: var(--primary); color: white; border-color: var(--primary); }

        .plant-grid { 
            display: grid; grid-template-columns: repeat(auto-fill, minmax(140px, 1fr)); gap: 12px; 
        }
        .plant-card {
            background: white; border-radius: 10px; padding: 15px 10px; text-align: center;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05); cursor: pointer; 
            border: 1px solid #f0f0f0; display: flex; flex-direction: column;
            min-height: 110px;
        }
        .plant-card:active { transform: scale(0.98); background: #f9f9f9; }
        .p-name { font-weight: bold; font-size: 1.05rem; color: var(--primary); margin-bottom: 5px; }
        .p-cat { font-size: 0.85rem; color: #546e7a; margin-bottom: 8px; }
        
        .status-badge {
            font-size: 0.7rem; color: white; padding: 3px 8px; border-radius: 10px;
            display: inline-block; font-weight: bold; margin-top: auto; align-self: center;
        }
        .reg-asia { background: var(--reg-asia); }
        .reg-europe { background: var(--reg-europe); }
        .reg-americas { background: var(--reg-americas); }
        .reg-oceania { background: var(--reg-oceania); }
        .reg-africa { background: var(--reg-africa); }
        .reg-other { background: #78909c; }

        /* --- Quiz --- */
        .quiz-panel {
            background: white; padding: 25px 20px; border-radius: 16px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.05); text-align: center;
            max-width: 600px; margin: 0 auto;
        }
        .q-media-box {
            height: 200px; background: #fafafa; border: 2px dashed #b3e5fc;
            border-radius: 12px; margin: 20px 0; display: flex;
            align-items: center; justify-content: center; overflow: hidden;
        }
        .opt-btn {
            width: 100%; padding: 14px; margin-bottom: 10px; background: white;
            border: 2px solid #cfd8dc; border-radius: 10px; font-size: 1rem;
            cursor: pointer; font-weight: bold; color: #37474f; transition: 0.2s;
        }
        .opt-btn:active { background: #eceff1; }
        .opt-btn.correct { background: #c8e6c9; border-color: #66bb6a; color: #1b5e20; }
        .opt-btn.wrong { background: #ffcdd2; border-color: #ef5350; color: #b71c1c; }

        /* --- Modal --- */
        .modal {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.85); z-index: 2000;
            display: none; justify-content: center; align-items: center; padding: 15px;
            backdrop-filter: blur(3px);
        }
        .modal-box {
            background: white; width: 100%; max-width: 500px;
            border-radius: 16px; overflow: hidden; display: flex; flex-direction: column;
            max-height: 85vh; animation: popUp 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }
        @keyframes popUp { from { transform: scale(0.9); opacity: 0; } to { transform: scale(1); opacity: 1; } }
        
        .img-area { height: 35vh; background: #eee; display: flex; align-items: center; justify-content: center; }
        .info-area { padding: 20px; overflow-y: auto; -webkit-overflow-scrolling: touch; }
        .loader {
            border: 3px solid #f3f3f3; border-top: 3px solid var(--primary);
            border-radius: 50%; width: 30px; height: 30px; animation: spin 1s linear infinite;
        }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }

        @media (min-width: 768px) {
            .container { padding: 30px; }
            .nav { justify-content: center; top: 86px; }
            .plant-grid { grid-template-columns: repeat(auto-fill, minmax(160px, 1fr)); }
            .img-area { height: 300px; }
        }
    </style>
</head>
<body>

<header>
    <h1>ğŸŒ ä¸–ç•Œé¦–éƒ½å¤§æŒ‘æˆ°</h1>
    <div class="subtitle">å…¨çƒ 190+ åœ‹å®¶è³‡æ–™åº« (å«é™·é˜±é¡Œ)</div>
</header>

<div class="nav">
    <button class="nav-btn active" onclick="setTab('daily', this)">ğŸ”® æ¯æ—¥ä¸€åœ‹</button>
    <button class="nav-btn" onclick="setTab('guide', this)">ğŸ“– é¦–éƒ½åœ–é‘‘</button>
    <button class="nav-btn" onclick="setTab('quiz', this)">ğŸš© é¦–éƒ½æ¸¬é©—</button>
</div>

<div class="container">

    <div id="sec-daily" class="section active">
        <div class="daily-container">
            <h2 style="color:var(--primary); margin:0 0 5px 0;">ğŸ“… ä»Šæ—¥åœ‹å®¶</h2>
            <p style="color:#78909c; font-size:0.9rem; margin-top:0;">æ¯å¤©èªè­˜ä¸€å€‹æ–°æœ‹å‹</p>
            
            <div class="card-scene">
                <div class="card-inner" id="daily-card-inner">
                    <div class="card-face card-front" onclick="flipDailyCard()">
                        <div style="font-size:4rem; margin-bottom:15px;">ğŸ—ºï¸</div>
                        <h2 style="letter-spacing:1px;">TODAY'S PICK</h2>
                        <div style="background:rgba(0,0,0,0.1); padding:4px 12px; border-radius:20px; font-size:0.9rem;">
                            <span id="daily-date-display">...</span>
                        </div>
                        <p style="opacity:0.9; margin-top:20px; font-size:0.9rem;">é»æ“Šç¿»é–‹çœ‹ç­”æ¡ˆ</p>
                    </div>
                    
                    <div class="card-face card-back">
                        <div class="daily-img-wrapper" onclick="openModal(currentDailyCountry)">
                            <img id="daily-img" class="daily-img" src="" alt="">
                            <div class="loader" id="daily-loader" style="position:absolute;"></div>
                        </div>
                        <div class="daily-info-box">
                            <div style="display:flex; justify-content:space-between; align-items:center;">
                                <h2 id="daily-name" style="margin:0; color:var(--primary);"></h2>
                                <span id="daily-region" class="status-badge"></span>
                            </div>
                            <div style="margin-top:10px;">
                                <span style="color:#78909c;">é¦–éƒ½ï¼š</span>
                                <strong id="daily-capital" style="font-size:1.3rem; color:#e65100;"></strong>
                            </div>
                            <hr style="border:0; border-top:1px solid #eee; margin:15px 0;">
                            <p id="daily-desc" style="color:#546e7a; font-size:0.9rem; line-height:1.6;">é€£ç·šä¸­...</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="sec-guide" class="section">
        <div class="tools-bar">
            <input type="text" id="search-input" class="search-box" placeholder="æœå°‹åœ‹å®¶æˆ–é¦–éƒ½..." onkeyup="renderGuide()">
            <div class="filter-scroll">
                <div class="filter-tag active" onclick="setFilter('all', this)">å…¨éƒ¨</div>
                <div class="filter-tag" onclick="setFilter('äºæ´²', this)">äºæ´²</div>
                <div class="filter-tag" onclick="setFilter('æ­æ´²', this)">æ­æ´²</div>
                <div class="filter-tag" onclick="setFilter('ç¾æ´²', this)">ç¾æ´²</div>
                <div class="filter-tag" onclick="setFilter('å¤§æ´‹æ´²', this)">å¤§æ´‹æ´²</div>
                <div class="filter-tag" onclick="setFilter('éæ´²', this)">éæ´²</div>
            </div>
            <div style="text-align:right; font-size:0.75rem; color:#90a4ae; margin-top:8px;">
                æ”¶éŒ„ï¼š<span id="db-count">0</span> å€‹åœ‹å®¶/åœ°å€
            </div>
        </div>
        <div id="guide-grid" class="plant-grid"></div>
    </div>

    <div id="sec-quiz" class="section">
        <div id="quiz-menu" class="quiz-panel">
            <h2 style="color:var(--primary);">ğŸ“ å…¨çƒé¦–éƒ½å¤§æœƒè€ƒ</h2>
            <p style="color:#546e7a;">åŒ…å« 195+ å€‹åœ‹å®¶èˆ‡å®¹æ˜“æ··æ·†çš„é™·é˜±åŸå¸‚ã€‚<br>ä½ èƒ½ç­”å°å¹¾é¡Œï¼Ÿ</p>
            <br>
            <div style="font-size:3.5rem; margin-bottom:15px;">ğŸ›ï¸</div>
            <button class="nav-btn" style="background:var(--primary); color:white; width:100%; padding:15px; font-size:1.1rem;" onclick="startQuiz()">
                é–‹å§‹æ¸¬é©—
            </button>
        </div>

        <div id="quiz-play" class="quiz-panel" style="display:none;">
            <div style="display:flex; justify-content:space-between; margin-bottom:10px; font-weight:bold; color:#90a4ae; font-size:0.9rem;">
                <span id="q-progress">1 / 10</span>
                <span>åˆ†æ•¸: <span id="q-score" style="color:var(--primary);">0</span></span>
            </div>
            
            <h3 style="margin:5px 0; color:#37474f;">
                <span id="q-country" style="color:var(--primary); font-size:1.4rem;"></span> çš„é¦–éƒ½æ˜¯ï¼Ÿ
            </h3>

            <div class="q-media-box">
                <div class="loader" id="v-loader"></div>
                <img id="q-img" style="max-width:100%; max-height:100%; display:none;">
            </div>

            <div id="opt-container"></div>
            <div id="feedback" style="height:25px; font-weight:bold; margin-top:5px;"></div>

            <button id="next-btn" class="nav-btn" style="width:100%; background:var(--primary); color:white; margin-top:15px; display:none;" onclick="nextQuestion()">ä¸‹ä¸€é¡Œ â†’</button>
            <button onclick="quitQuiz()" style="background:none; border:none; margin-top:10px; color:#b0bec5; text-decoration:underline; font-size:0.9rem;">é€€å‡º</button>
        </div>

        <div id="quiz-result" class="quiz-panel" style="display:none;">
            <h2>ğŸ† æ¸¬é©—çµæœ</h2>
            <h1 id="final-score" style="font-size:4rem; margin:10px 0; color:var(--primary);">0</h1>
            <div id="final-rank" style="background:var(--accent); color:#37474f; padding:5px 20px; border-radius:20px; font-weight:bold; display:inline-block;"></div>
            <br><br>
            <button class="nav-btn" onclick="quitQuiz()">è¿”å›ä¸»é¸å–®</button>
        </div>
    </div>

</div>

<div id="modal" class="modal" onclick="closeModal(event)">
    <div class="modal-box">
        <div class="img-area">
            <div class="loader" id="m-loader"></div>
            <img id="m-img" style="max-width:100%; max-height:100%; display:none;">
            <div id="m-err" style="display:none; color:#78909c;">(ç„¡åœ–ç‰‡)</div>
        </div>
        <div class="info-area">
            <div style="display:flex; justify-content:space-between; align-items:flex-start;">
                <h2 id="m-name" style="margin:0; color:var(--primary);"></h2>
                <span id="m-region" class="status-badge"></span>
            </div>
            <div style="font-size:1.1rem; color:#e65100; margin:10px 0; font-weight:bold;">
                é¦–éƒ½ï¼š<span id="m-capital"></span>
            </div>
            <p id="m-desc" style="line-height:1.6; color:#546e7a;">è®€å–ä¸­...</p>
            <a id="m-wiki" href="#" target="_blank" style="display:block; text-align:center; margin-top:20px; padding:12px; background:#e1f5fe; color:var(--primary); text-decoration:none; border-radius:8px; font-weight:bold;">å‰å¾€ç¶­åŸºç™¾ç§‘</a>
        </div>
        <button onclick="closeModal(null)" style="width:100%; padding:15px; border:none; background:#eceff1; font-weight:bold; color:#546e7a;">é—œé–‰</button>
    </div>
</div>

<script>
    // --- å…¨çƒåœ‹å®¶èˆ‡é¦–éƒ½å®Œæ•´è³‡æ–™åº« ---
    // confusing_cities é™£åˆ—ç‚ºã€Œéé¦–éƒ½ä½†æ˜“æ··æ·†çš„å¤§åŸå¸‚ã€ï¼Œç”¨æ–¼ç”Ÿæˆèª˜ç­”é¸é …ã€‚
    const countries = [
        // === äºæ´² ===
        { country: "æ—¥æœ¬", capital: "æ±äº¬", region: "äºæ´²", confusing_cities: ["å¤§é˜ª", "äº¬éƒ½", "æ©«æ¿±"] },
        { country: "ä¸­åœ‹", capital: "åŒ—äº¬", region: "äºæ´²", confusing_cities: ["ä¸Šæµ·", "å»£å·", "æ·±åœ³", "é¦™æ¸¯"] },
        { country: "å—éŸ“", capital: "é¦–çˆ¾", region: "äºæ´²", confusing_cities: ["é‡œå±±", "ä»å·", "å¤§é‚±"] },
        { country: "åŒ—éŸ“", capital: "å¹³å£¤", region: "äºæ´²", confusing_cities: ["é–‹åŸ"] },
        { country: "æ³°åœ‹", capital: "æ›¼è°·", region: "äºæ´²", confusing_cities: ["æ¸…é‚", "æ™®å‰å³¶", "èŠ­é”é›…"] },
        { country: "è¶Šå—", capital: "æ²³å…§", region: "äºæ´²", confusing_cities: ["èƒ¡å¿—æ˜å¸‚", "å³´æ¸¯"] },
        { country: "é¦¬ä¾†è¥¿äº", capital: "å‰éš†å¡", region: "äºæ´²", confusing_cities: ["æª³åŸ", "é¦¬å…­ç”²", "æ–°å±±"] },
        { country: "æ–°åŠ å¡", capital: "æ–°åŠ å¡", region: "äºæ´²", confusing_cities: [] },
        { country: "å°å°¼", capital: "é›…åŠ é”", region: "äºæ´²", confusing_cities: ["å³‡é‡Œå³¶", "æ³—æ°´", "è¬éš†"] },
        { country: "è²å¾‹è³“", capital: "é¦¬å°¼æ‹‰", region: "äºæ´²", confusing_cities: ["å®¿éœ§", "é”æ²ƒ"] },
        { country: "å°åº¦", capital: "æ–°å¾·é‡Œ", region: "äºæ´²", confusing_cities: ["å­Ÿè²·", "åŠ çˆ¾å„ç­”", "ç­åŠ ç¾…çˆ¾", "æ¸…å¥ˆ"] },
        { country: "åœŸè€³å…¶", capital: "å®‰å¡æ‹‰", region: "äºæ´²", confusing_cities: ["ä¼Šæ–¯å¦å ¡", "ä¼ŠèŒ²å¯†çˆ¾", "å®‰å¡”åˆ©äº"] },
        { country: "æ²™çƒåœ°é˜¿æ‹‰ä¼¯", capital: "åˆ©é›…å¾·", region: "äºæ´²", confusing_cities: ["å‰é”", "éº¥åŠ "] },
        { country: "é˜¿è¯", capital: "é˜¿å¸ƒé”æ¯”", region: "äºæ´²", confusing_cities: ["æœæ‹œ"] }, 
        { country: "ä¼Šæœ—", capital: "å¾·é»‘è˜­", region: "äºæ´²", confusing_cities: ["ä¼Šæ–¯æ³•ç½•", "è¨­æ‹‰å­"] },
        { country: "ä¼Šæ‹‰å…‹", capital: "å·´æ ¼é”", region: "äºæ´²", confusing_cities: ["æ‘©è˜‡çˆ¾", "å·´å£«æ‹‰"] },
        { country: "ä»¥è‰²åˆ—", capital: "è€¶è·¯æ’’å†·", region: "äºæ´²", confusing_cities: ["ç‰¹æ‹‰ç¶­å¤«", "æµ·æ³•"] },
        { country: "å·´åŸºæ–¯å¦", capital: "ä¼Šæ–¯è˜­ç‘ªå·´å¾·", region: "äºæ´²", confusing_cities: ["å–€æ‹‰èš©", "æ‹‰åˆçˆ¾"] },
        { country: "å­ŸåŠ æ‹‰", capital: "é”å¡", region: "äºæ´²", confusing_cities: ["å‰å¤§æ¸¯"] },
        { country: "å°¼æ³Šçˆ¾", capital: "åŠ å¾·æ»¿éƒ½", region: "äºæ´²", confusing_cities: ["æ³¢å¡æ‹‰"] },
        { country: "ç·¬ç”¸", capital: "å¥ˆæ¯”å¤š", region: "äºæ´²", confusing_cities: ["ä»°å…‰", "æ›¼å¾·å‹’"] },
        { country: "æŸ¬åŸ”å¯¨", capital: "é‡‘é‚Š", region: "äºæ´²", confusing_cities: ["æš¹ç²’"] },
        { country: "å¯®åœ‹", capital: "æ°¸ç", region: "äºæ´²", confusing_cities: ["é¾å¡é‚¦"] },
        { country: "æ±¶èŠ", capital: "æ–¯é‡Œå·´å¡æ—ºå¸‚", region: "äºæ´²", confusing_cities: [] },
        { country: "æ±å¸æ±¶", capital: "å¸åŠ›", region: "äºæ´²", confusing_cities: [] },
        { country: "æ–¯é‡Œè˜­å¡", capital: "æ–¯é‡Œè³ˆäºç“¦å¾·ç´æ™®æ‹‰ç§‘ç‰¹", region: "äºæ´²", confusing_cities: ["å¯å€«å¡"] }, // å¯å€«å¡æ˜¯å•†æ¥­é¦–éƒ½
        { country: "é¦¬çˆ¾åœ°å¤«", capital: "é¦¬ç´¯", region: "äºæ´²", confusing_cities: [] },
        { country: "è’™å¤", capital: "çƒè˜­å·´æ‰˜", region: "äºæ´²", confusing_cities: [] },
        { country: "å“ˆè–©å…‹", capital: "é˜¿æ–¯å¡”ç´", region: "äºæ´²", confusing_cities: ["é˜¿æ‹‰æœ¨åœ–"] },
        { country: "çƒèŒ²åˆ¥å…‹", capital: "å¡”ä»€å¹²", region: "äºæ´²", confusing_cities: ["æ’’é¦¬çˆ¾ç½•"] },
        { country: "å‰çˆ¾å‰æ–¯", capital: "æ¯”ä»€å‡±å…‹", region: "äºæ´²", confusing_cities: [] },
        { country: "å¡”å‰å…‹", capital: "æœå°šåˆ¥", region: "äºæ´²", confusing_cities: [] },
        { country: "åœŸåº«æ›¼", capital: "é˜¿ä»€å“ˆå·´å¾·", region: "äºæ´²", confusing_cities: [] },
        { country: "é˜¿å¯Œæ±—", capital: "å–€å¸ƒçˆ¾", region: "äºæ´²", confusing_cities: ["åå¤§å“ˆ"] },
        { country: "æ•˜åˆ©äº", capital: "å¤§é¦¬å£«é©", region: "äºæ´²", confusing_cities: ["é˜¿å‹’å¡"] },
        { country: "ç´„æ—¦", capital: "å®‰æ›¼", region: "äºæ´²", confusing_cities: [] },
        { country: "é»å·´å«©", capital: "è²é­¯ç‰¹", region: "äºæ´²", confusing_cities: [] },
        { country: "ç§‘å¨ç‰¹", capital: "ç§‘å¨ç‰¹åŸ", region: "äºæ´²", confusing_cities: [] },
        { country: "å¡é”", capital: "æœå“ˆ", region: "äºæ´²", confusing_cities: [] },
        { country: "å·´æ—", capital: "éº¥ç´ç‘ª", region: "äºæ´²", confusing_cities: [] },
        { country: "é˜¿æ›¼", capital: "é¦¬æ–¯å–€ç‰¹", region: "äºæ´²", confusing_cities: [] },
        { country: "è‘‰é–€", capital: "æ²™é‚£", region: "äºæ´²", confusing_cities: ["äºä¸"] },
        { country: "äºå¡æ‹œç„¶", capital: "å·´åº«", region: "äºæ´²", confusing_cities: [] },
        { country: "äºç¾å°¼äº", capital: "è‘‰é‡Œæº«", region: "äºæ´²", confusing_cities: [] },
        { country: "å–¬æ²»äº", capital: "ææ¯”é‡Œæ–¯", region: "äºæ´²", confusing_cities: ["å·´çµ±"] },
        { country: "ä¸ä¸¹", capital: "è¾›å¸ƒ", region: "äºæ´²", confusing_cities: [] },

        // === æ­æ´² ===
        { country: "è‹±åœ‹", capital: "å€«æ•¦", region: "æ­æ´²", confusing_cities: ["æ›¼å¾¹æ–¯ç‰¹", "æ„›ä¸å ¡", "ä¼¯æ˜ç½•"] },
        { country: "æ³•åœ‹", capital: "å·´é»", region: "æ­æ´²", confusing_cities: ["é¦¬è³½", "é‡Œæ˜‚", "å°¼æ–¯", "æ³¢çˆ¾å¤š"] },
        { country: "å¾·åœ‹", capital: "æŸæ—", region: "æ­æ´²", confusing_cities: ["æ…•å°¼é»‘", "æ³•è˜­å…‹ç¦", "æ¼¢å ¡", "ç§‘éš†"] },
        { country: "ç¾©å¤§åˆ©", capital: "ç¾…é¦¬", region: "æ­æ´²", confusing_cities: ["ç±³è˜­", "å¨å°¼æ–¯", "ä½›ç¾…å€«æ–¯", "é‚£ä¸å‹’æ–¯"] },
        { country: "è¥¿ç­ç‰™", capital: "é¦¬å¾·é‡Œ", region: "æ­æ´²", confusing_cities: ["å·´å¡éš†ç´", "å¡ç¶­äº", "ç“¦å€«è¥¿äº"] },
        { country: "è·è˜­", capital: "é˜¿å§†æ–¯ç‰¹ä¸¹", region: "æ­æ´²", confusing_cities: ["é¹¿ç‰¹ä¸¹", "æµ·ç‰™", "çƒç‰¹å‹’æ”¯"] },
        { country: "æ¯”åˆ©æ™‚", capital: "å¸ƒé­¯å¡çˆ¾", region: "æ­æ´²", confusing_cities: ["å®‰ç‰¹è¡›æ™®", "å¸ƒé­¯æ—¥"] },
        { country: "ç‘å£«", capital: "ä¼¯æ©", region: "æ­æ´²", confusing_cities: ["è˜‡é»ä¸–", "æ—¥å…§ç“¦", "å·´å¡çˆ¾", "æ´›æ¡‘"] },
        { country: "å¥§åœ°åˆ©", capital: "ç¶­ä¹Ÿç´", region: "æ­æ´²", confusing_cities: ["è–©çˆ¾æ–¯å ¡", "æ ¼æ‹‰èŒ²"] },
        { country: "è‘¡è„ç‰™", capital: "é‡Œæ–¯æœ¬", region: "æ­æ´²", confusing_cities: ["æ³¢å¤š"] },
        { country: "å¸Œè‡˜", capital: "é›…å…¸", region: "æ­æ´²", confusing_cities: ["å¡è–©æ´›å°¼åŸº", "è–æ‰˜é‡Œå°¼"] },
        { country: "ä¿„ç¾…æ–¯", capital: "è«æ–¯ç§‘", region: "æ­æ´²", confusing_cities: ["è–å½¼å¾—å ¡", "æµ·åƒå´´", "æ–°è¥¿ä¼¯åˆ©äº"] },
        { country: "ç‘å…¸", capital: "æ–¯å¾·å“¥çˆ¾æ‘©", region: "æ­æ´²", confusing_cities: ["å“¥å¾—å ¡", "é¦¬çˆ¾é»˜"] },
        { country: "æŒªå¨", capital: "å¥§æ–¯é™¸", region: "æ­æ´²", confusing_cities: ["å‘çˆ¾æ ¹"] },
        { country: "èŠ¬è˜­", capital: "èµ«çˆ¾è¾›åŸº", region: "æ­æ´²", confusing_cities: ["å¦ä½©é›·"] },
        { country: "ä¸¹éº¥", capital: "å“¥æœ¬å“ˆæ ¹", region: "æ­æ´²", confusing_cities: ["å¥§èƒ¡æ–¯"] },
        { country: "æ„›çˆ¾è˜­", capital: "éƒ½æŸæ—", region: "æ­æ´²", confusing_cities: ["ç§‘å…‹"] },
        { country: "æ³¢è˜­", capital: "è¯æ²™", region: "æ­æ´²", confusing_cities: ["å…‹æ‹‰ç§‘å¤«", "æ ¼ä½†æ–¯å…‹"] },
        { country: "æ·å…‹", capital: "å¸ƒæ‹‰æ ¼", region: "æ­æ´²", confusing_cities: ["å¸ƒçˆ¾è«¾"] },
        { country: "åŒˆç‰™åˆ©", capital: "å¸ƒé”ä½©æ–¯", region: "æ­æ´²", confusing_cities: [] },
        { country: "ç¾…é¦¬å°¼äº", capital: "å¸ƒåŠ å‹’æ–¯ç‰¹", region: "æ­æ´²", confusing_cities: [] },
        { country: "ä¿åŠ åˆ©äº", capital: "ç´¢è²äº", region: "æ­æ´²", confusing_cities: [] },
        { country: "å¡çˆ¾ç¶­äº", capital: "è²çˆ¾æ ¼å‹’", region: "æ­æ´²", confusing_cities: [] },
        { country: "å…‹ç¾…åŸƒè¥¿äº", capital: "è–©æ ¼å‹’å¸ƒ", region: "æ­æ´²", confusing_cities: ["æœå¸ƒç¾…å¤«å°¼å…‹"] },
        { country: "çƒå…‹è˜­", capital: "åŸºè¼”", region: "æ­æ´²", confusing_cities: ["æ•–å¾·è–©", "åˆ©æ²ƒå¤«"] },
        { country: "ç™½ä¿„ç¾…æ–¯", capital: "æ˜æ–¯å…‹", region: "æ­æ´²", confusing_cities: [] },
        { country: "å†°å³¶", capital: "é›·å…‹é›…ç¶­å…‹", region: "æ­æ´²", confusing_cities: [] },
        { country: "æ„›æ²™å°¼äº", capital: "å¡”æ—", region: "æ­æ´²", confusing_cities: [] },
        { country: "æ‹‰è„«ç¶­äº", capital: "é‡ŒåŠ ", region: "æ­æ´²", confusing_cities: [] },
        { country: "ç«‹é™¶å®›", capital: "ç¶­çˆ¾ç´æ–¯", region: "æ­æ´²", confusing_cities: [] },
        { country: "æ–¯æ´›ä¼å…‹", capital: "å¸ƒæ‹‰ææ–¯æ‹‰ç“¦", region: "æ­æ´²", confusing_cities: [] },
        { country: "æ–¯æ´›ç¶­å°¼äº", capital: "ç›§æ¯”å®‰ç´", region: "æ­æ´²", confusing_cities: [] },
        { country: "æ³¢å£«å°¼äº", capital: "å¡æ‹‰è€¶ä½›", region: "æ­æ´²", confusing_cities: [] },
        { country: "é˜¿çˆ¾å·´å°¼äº", capital: "åœ°æ‹‰é‚£", region: "æ­æ´²", confusing_cities: [] },
        { country: "åŒ—é¦¬å…¶é “", capital: "å²é«˜æ¯”è€¶", region: "æ­æ´²", confusing_cities: [] },
        { country: "è’™ç‰¹å…§å“¥ç¾…", capital: "æ³¢å¾·é‡ŒæŸ¥", region: "æ­æ´²", confusing_cities: [] },
        { country: "è³½æ™®å‹’æ–¯", capital: "å°¼å¯è¥¿äº", region: "æ­æ´²", confusing_cities: [] },
        { country: "ç›§æ£®å ¡", capital: "ç›§æ£®å ¡å¸‚", region: "æ­æ´²", confusing_cities: [] },
        { country: "æ‘©ç´å“¥", capital: "æ‘©ç´å“¥", region: "æ­æ´²", confusing_cities: [] },
        { country: "é¦¬çˆ¾ä»–", capital: "ç“¦èŠå¡”", region: "æ­æ´²", confusing_cities: [] },
        { country: "æ¢µè’‚å²¡", capital: "æ¢µè’‚å²¡", region: "æ­æ´²", confusing_cities: [] },
        { country: "å®‰é“çˆ¾", capital: "å®‰é“çˆ¾åŸ", region: "æ­æ´²", confusing_cities: [] },
        { country: "åˆ—æ”¯æ•¦æ–¯ç™»", capital: "ç“¦éƒ½èŒ²", region: "æ­æ´²", confusing_cities: [] },
        { country: "è–é¦¬åˆ©è«¾", capital: "è–é¦¬åˆ©è«¾", region: "æ­æ´²", confusing_cities: [] },
        { country: "æ‘©çˆ¾å¤šç“¦", capital: "åŸºå¸Œè¨¥çƒ", region: "æ­æ´²", confusing_cities: [] },

        // === ç¾æ´² ===
        { country: "ç¾åœ‹", capital: "è¯ç››é “ç‰¹å€", region: "ç¾æ´²", confusing_cities: ["ç´ç´„", "æ´›æ‰ç£¯", "èŠåŠ å“¥", "èˆŠé‡‘å±±", "è¥¿é›…åœ–", "é‚é˜¿å¯†"] },
        { country: "åŠ æ‹¿å¤§", capital: "æ¸¥å¤ªè¯", region: "ç¾æ´²", confusing_cities: ["å¤šå€«å¤š", "æº«å“¥è¯", "è’™ç‰¹å©", "å¡åŠ åˆ©"] },
        { country: "å¢¨è¥¿å“¥", capital: "å¢¨è¥¿å“¥åŸ", region: "ç¾æ´²", confusing_cities: ["åæ˜†", "ç“œé”æ‹‰å“ˆæ‹‰", "æè¯ç´"] },
        { country: "å·´è¥¿", capital: "å·´è¥¿åˆ©äº", region: "ç¾æ´²", confusing_cities: ["é‡Œç´„ç†±å…§ç›§", "è–ä¿ç¾…", "è–©çˆ¾ç“¦å¤š"] },
        { country: "é˜¿æ ¹å»·", capital: "å¸ƒå®œè«¾æ–¯è‰¾åˆ©æ–¯", region: "ç¾æ´²", confusing_cities: ["ç§‘çˆ¾å¤šç“¦", "ç¾…è–©é‡Œå¥§"] },
        { country: "æ™ºåˆ©", capital: "è–åœ°ç‰™å“¥", region: "ç¾æ´²", confusing_cities: ["ç“¦çˆ¾å¸•èŠç´¢"] },
        { country: "å“¥å€«æ¯”äº", capital: "æ³¢å“¥å¤§", region: "ç¾æ´²", confusing_cities: ["éº¥å¾·æ—", "å¡å¡”èµ«ç´"] },
        { country: "ç§˜é­¯", capital: "åˆ©é¦¬", region: "ç¾æ´²", confusing_cities: ["åº«æ–¯ç§‘", "é˜¿é›·åŸºå¸•"] },
        { country: "å§”å…§ç‘æ‹‰", capital: "å¡æ‹‰å¡æ–¯", region: "ç¾æ´²", confusing_cities: [] },
        { country: "å¤å·´", capital: "å“ˆç“¦é‚£", region: "ç¾æ´²", confusing_cities: ["æ³•æ‹‰å¾·ç¾…"] },
        { country: "å·´æ‹¿é¦¬", capital: "å·´æ‹¿é¦¬åŸ", region: "ç¾æ´²", confusing_cities: [] },
        { country: "å“¥æ–¯å¤§é»åŠ ", capital: "è–è·è¥¿", region: "ç¾æ´²", confusing_cities: [] },
        { country: "ç‰™è²·åŠ ", capital: "äº¬æ–¯æ•¦", region: "ç¾æ´²", confusing_cities: [] },
        { country: "å„ç“œå¤š", capital: "åŸºå¤š", region: "ç¾æ´²", confusing_cities: ["ç“œäºåŸºçˆ¾"] },
        { country: "ç»åˆ©ç¶­äº", capital: "è˜‡å…‹é›·", region: "ç¾æ´²", confusing_cities: ["æ‹‰å·´æ–¯"] }, // æ‹‰å·´æ–¯æ˜¯æ”¿åºœæ‰€åœ¨åœ°ï¼Œè˜‡å…‹é›·æ˜¯æ†²æ³•é¦–éƒ½
        { country: "å·´æ‹‰åœ­", capital: "äºæ¾æ£®", region: "ç¾æ´²", confusing_cities: [] },
        { country: "çƒæ‹‰åœ­", capital: "è’™ç‰¹ç¶­å¤š", region: "ç¾æ´²", confusing_cities: [] },
        { country: "ç“œåœ°é¦¬æ‹‰", capital: "ç“œåœ°é¦¬æ‹‰å¸‚", region: "ç¾æ´²", confusing_cities: [] },
        { country: "å®éƒ½æ‹‰æ–¯", capital: "å¾·å¤è¥¿åŠ å·´", region: "ç¾æ´²", confusing_cities: [] },
        { country: "è–©çˆ¾ç“¦å¤š", capital: "è–è–©çˆ¾ç“¦å¤š", region: "ç¾æ´²", confusing_cities: [] },
        { country: "å°¼åŠ æ‹‰ç“œ", capital: "é¦¬æ‹¿ç“œ", region: "ç¾æ´²", confusing_cities: [] },
        { country: "è²é‡Œæ–¯", capital: "è²çˆ¾å¢¨é‚¦", region: "ç¾æ´²", confusing_cities: ["è²é‡Œæ–¯å¸‚"] }, // é™·é˜±ï¼šèˆŠéƒ½è²é‡Œæ–¯å¸‚
        { country: "æµ·åœ°", capital: "å¤ªå­æ¸¯", region: "ç¾æ´²", confusing_cities: [] },
        { country: "å¤šæ˜å°¼åŠ ", capital: "è–å¤šæ˜å“¥", region: "ç¾æ´²", confusing_cities: [] },
        { country: "å·´å“ˆé¦¬", capital: "æ‹¿ç´¢", region: "ç¾æ´²", confusing_cities: [] },
        { country: "åƒé‡Œé”åŠæ‰˜å·´å“¥", capital: "è¥¿ç­ç‰™æ¸¯", region: "ç¾æ´²", confusing_cities: [] },
        { country: "å·´è²å¤š", capital: "å¸ƒé‡Œå¥‡æ•¦", region: "ç¾æ´²", confusing_cities: [] },
        { country: "è“‹äºé‚£", capital: "å–¬æ²»æ•¦", region: "ç¾æ´²", confusing_cities: [] },
        { country: "è˜‡åˆ©å—", capital: "å·´æ‹‰é¦¬åˆ©æ³¢", region: "ç¾æ´²", confusing_cities: [] },

        // === å¤§æ´‹æ´² ===
        { country: "æ¾³æ´²", capital: "ååŸ¹æ‹‰", region: "å¤§æ´‹æ´²", confusing_cities: ["é›ªæ¢¨", "å¢¨çˆ¾æœ¬", "å¸ƒé‡Œæ–¯æœ¬", "é»ƒé‡‘æµ·å²¸", "ä¼¯æ–¯"] },
        { country: "ç´è¥¿è˜­", capital: "å¨éˆé “", region: "å¤§æ´‹æ´²", confusing_cities: ["å¥§å…‹è˜­", "åŸºç£åŸ", "çš‡åé®"] },
        { country: "å·´å¸ƒäºç´å¹¾å…§äº", capital: "è«å£«æ¯”æ¸¯", region: "å¤§æ´‹æ´²", confusing_cities: [] },
        { country: "æ–æ¿Ÿ", capital: "è˜‡ç“¦", region: "å¤§æ´‹æ´²", confusing_cities: ["æ¥ è¿ª"] },
        { country: "ç´¢ç¾…é–€ç¾¤å³¶", capital: "è·å°¼é˜¿æ‹‰", region: "å¤§æ´‹æ´²", confusing_cities: [] },
        { country: "è¬é‚£æœ", capital: "ç¶­æ‹‰æ¸¯", region: "å¤§æ´‹æ´²", confusing_cities: [] },
        { country: "è–©æ‘©äº", capital: "é˜¿çš®äº", region: "å¤§æ´‹æ´²", confusing_cities: [] },
        { country: "æ±åŠ ", capital: "åŠªç“œå©ç™¼", region: "å¤§æ´‹æ´²", confusing_cities: [] },
        { country: "å¸›ç‰", capital: "æ©å‰é­¯ç©†å¾·", region: "å¤§æ´‹æ´²", confusing_cities: ["ç§‘ç¾…çˆ¾"] }, // ç§‘ç¾…çˆ¾æ˜¯èˆŠéƒ½å’Œæœ€å¤§åŸ
        { country: "å¯†å…‹ç¾…å°¼è¥¿äº", capital: "å¸•åˆ©åŸºçˆ¾", region: "å¤§æ´‹æ´²", confusing_cities: [] },
        { country: "é¦¬ç´¹çˆ¾ç¾¤å³¶", capital: "é¦¬ä¹…ç¾…", region: "å¤§æ´‹æ´²", confusing_cities: [] },
        { country: "å‰é‡Œå·´æ–¯", capital: "å¡”æ‹‰ç“¦", region: "å¤§æ´‹æ´²", confusing_cities: [] },
        { country: "åç“¦é­¯", capital: "å¯Œç´å¯Œæ", region: "å¤§æ´‹æ´²", confusing_cities: [] },
        { country: "è«¾é­¯", capital: "äºå€«", region: "å¤§æ´‹æ´²", confusing_cities: [] }, // è«¾é­¯ç„¡æ­£å¼é¦–éƒ½ï¼Œæ”¿åºœä½æ–¼äºå€«

        // === éæ´² ===
        { country: "åŸƒåŠ", capital: "é–‹ç¾…", region: "éæ´²", confusing_cities: ["äºæ­·å±±å¤§æ¸¯", "ç›§å…‹ç´¢", "å¤å§†éŒ«å…‹"] },
        { country: "å—é", capital: "æ™®å‹’æ‰˜åˆ©äº", region: "éæ´²", confusing_cities: ["ç´„ç¿°å°¼æ–¯å ¡", "é–‹æ™®æ•¦", "å¾·ç­"] },
        { country: "æ‘©æ´›å“¥", capital: "æ‹‰å·´ç‰¹", region: "éæ´²", confusing_cities: ["å¡è–©å¸ƒè˜­å¡", "é¦¬æ‹‰å–€ä»€", "è²æ–¯"] },
        { country: "å¥ˆåŠåˆ©äº", capital: "é˜¿å¸ƒè³ˆ", region: "éæ´²", confusing_cities: ["æ‹‰å“¥æ–¯"] }, // æ‹‰å“¥æ–¯æ˜¯èˆŠéƒ½
        { country: "è‚¯äº", capital: "å¥ˆæ´›æ¯”", region: "éæ´²", confusing_cities: ["è’™å·´è–©"] },
        { country: "è¡£ç´¢æ¯”äº", capital: "é˜¿è¿ªæ–¯é˜¿è²å·´", region: "éæ´²", confusing_cities: [] },
        { country: "é˜¿çˆ¾åŠåˆ©äº", capital: "é˜¿çˆ¾åŠçˆ¾", region: "éæ´²", confusing_cities: [] },
        { country: "çªå°¼è¥¿äº", capital: "çªå°¼æ–¯", region: "éæ´²", confusing_cities: [] },
        { country: "è¿¦ç´", capital: "é˜¿å…‹æ‹‰", region: "éæ´²", confusing_cities: [] },
        { country: "è±¡ç‰™æµ·å²¸", capital: "é›…ç©†ç´¢æˆˆ", region: "éæ´²", confusing_cities: ["é˜¿å¿…å°š"] }, // é˜¿å¿…å°šæ˜¯æœ€å¤§åŸèˆ‡ç¶“æ¿Ÿé¦–éƒ½
        { country: "å¦å°šå°¼äº", capital: "æœç¯¤ç‘ª", region: "éæ´²", confusing_cities: ["ä¸‰è˜­æ¸¯"] }, // ä¸‰è˜­æ¸¯æ˜¯èˆŠéƒ½
        { country: "çƒå¹²é”", capital: "åå¸•æ‹‰", region: "éæ´²", confusing_cities: [] },
        { country: "å¡å…§åŠ çˆ¾", capital: "é”å–€çˆ¾", region: "éæ´²", confusing_cities: [] },
        { country: "é¦¬é”åŠ æ–¯åŠ ", capital: "å®‰å¡”é‚£é‚£åˆ©ä½›", region: "éæ´²", confusing_cities: [] },
        { country: "è˜‡ä¸¹", capital: "å–€åœŸç©†", region: "éæ´²", confusing_cities: [] },
        { country: "å‰›æœæ°‘ä¸»å…±å’Œåœ‹", capital: "é‡‘å¤æ²™", region: "éæ´²", confusing_cities: [] },
        { country: "å®‰å“¥æ‹‰", capital: "ç¾…å®‰é”", region: "éæ´²", confusing_cities: [] },
        { country: "å–€éº¥éš†", capital: "é›…æº«å¾·", region: "éæ´²", confusing_cities: ["æœé˜¿æ‹‰"] },
        { country: "è¾›å·´å¨", capital: "å“ˆæ‹‰é›·", region: "éæ´²", confusing_cities: [] },
        { country: "å°šæ¯”äº", capital: "è·¯æ²™å¡", region: "éæ´²", confusing_cities: [] },
        { country: "ç´ç±³æ¯”äº", capital: "æº«è·å…‹", region: "éæ´²", confusing_cities: [] },
        { country: "æ³¢æœ­é‚£", capital: "å˜‰æŸéš†é‡Œ", region: "éæ´²", confusing_cities: [] },
        { country: "è«ä¸‰æ¯”å…‹", capital: "é¦¬å¸ƒå¤š", region: "éæ´²", confusing_cities: [] },
        { country: "åˆ©æ¯”äº", capital: "çš„é»æ³¢é‡Œ", region: "éæ´²", confusing_cities: ["ç­åŠ è¥¿"] },
        { country: "é¦¬åˆ©", capital: "å·´é¦¬ç§‘", region: "éæ´²", confusing_cities: [] },
        { country: "ç›§å®‰é”", capital: "åŸºåŠ åˆ©", region: "éæ´²", confusing_cities: [] },
        { country: "ç´¢é¦¬åˆ©äº", capital: "æ‘©åŠ è¿ªä¼‘", region: "éæ´²", confusing_cities: [] },
        { country: "èŒ…åˆ©å¡”å°¼äº", capital: "è«¾å…‹å°‘", region: "éæ´²", confusing_cities: [] },
        { country: "å¸ƒå‰ç´æ³•ç´¢", capital: "ç“¦åŠ æœå¤", region: "éæ´²", confusing_cities: [] },
        { country: "å¹¾å…§äº", capital: "æŸ¯é‚£å…‹é‡Œ", region: "éæ´²", confusing_cities: [] },
        { country: "æŸ¥å¾·", capital: "æ©å‚‘ç´", region: "éæ´²", confusing_cities: [] },
        { country: "å°¼æ—¥", capital: "å°¼é˜¿ç¾", region: "éæ´²", confusing_cities: [] },
        { country: "è²å—", capital: "æ³¢å¤šè«¾ä¼", region: "éæ´²", confusing_cities: ["ç§‘æ‰˜åŠª"] }, // ç§‘æ‰˜åŠªæ˜¯æ”¿åºœæ‰€åœ¨åœ°
        { country: "å¤šå“¥", capital: "æ´›ç¾", region: "éæ´²", confusing_cities: [] },
        { country: "ç…å­å±±", capital: "å¼—é‡Œæ•¦", region: "éæ´²", confusing_cities: [] },
        { country: "è³´æ¯”ç‘äº", capital: "è’™ç¾…ç¶­äº", region: "éæ´²", confusing_cities: [] },
        { country: "ä¸­éå…±å’Œåœ‹", capital: "ç­åŸº", region: "éæ´²", confusing_cities: [] },
        { country: "åŠ å½­", capital: "åˆ©ä¼¯ç¶­çˆ¾", region: "éæ´²", confusing_cities: [] },
        { country: "å‰›æœå…±å’Œåœ‹", capital: "å¸ƒæ‹‰è–©å¸‚", region: "éæ´²", confusing_cities: [] },
        { country: "èµ¤é“å¹¾å…§äº", capital: "é¦¬æ‹‰åš", region: "éæ´²", confusing_cities: [] },
        { country: "å„åˆ©å‚äº", capital: "é˜¿æ–¯é¦¬æ‹‰", region: "éæ´²", confusing_cities: [] },
        { country: "å‰å¸ƒåœ°", capital: "å‰å¸ƒåœ°å¸‚", region: "éæ´²", confusing_cities: [] },
        { country: "ç”˜æ¯”äº", capital: "ç­ç çˆ¾", region: "éæ´²", confusing_cities: [] },
        { country: "å¹¾å…§äºæ¯”ç´¢", capital: "æ¯”ç´¢", region: "éæ´²", confusing_cities: [] },
        { country: "ç¶­å¾·è§’", capital: "æ™®æ‹‰äº", region: "éæ´²", confusing_cities: [] },
        { country: "æ¨¡é‡Œè¥¿æ–¯", capital: "è·¯æ˜“å£«æ¸¯", region: "éæ´²", confusing_cities: [] },
        { country: "å¡å¸­çˆ¾", capital: "ç¶­å¤šåˆ©äº", region: "éæ´²", confusing_cities: [] },
        { country: "è‘›æ‘©", capital: "è«æ´›å°¼", region: "éæ´²", confusing_cities: [] },
        { country: "è–å¤šç¾æ™®æ—è¥¿æ¯”", capital: "è–å¤šç¾", region: "éæ´²", confusing_cities: [] },
        { country: "å²ç“¦å¸å°¼", capital: "å¢¨å·´æœ¬", region: "éæ´²", confusing_cities: [] },
        { country: "è³´ç´¢æ‰˜", capital: "é¦¬å¡é­¯", region: "éæ´²", confusing_cities: [] },
        { country: "é¦¬æ‹‰å¨", capital: "é‡Œæœ—å¨", region: "éæ´²", confusing_cities: [] },
        { country: "è’²éš†åœ°", capital: "åŸºç‰¹åŠ ", region: "éæ´²", confusing_cities: ["å¸ƒæ¾å¸ƒæ‹‰"] }, // 2019é·éƒ½
        { country: "å—è˜‡ä¸¹", capital: "æœ±å·´", region: "éæ´²", confusing_cities: [] }
    ];

    // --- Helper Functions ---
    function getStatusClass(region) {
        if (region === "äºæ´²") return "reg-asia";
        if (region === "æ­æ´²") return "reg-europe";
        if (region === "ç¾æ´²") return "reg-americas";
        if (region === "å¤§æ´‹æ´²") return "reg-oceania";
        if (region === "éæ´²") return "reg-africa";
        return "reg-other";
    }

    const getWikiData = async (query) => {
        try {
            // ç¶­åŸºç™¾ç§‘ API
            const res = await fetch(`https://zh.wikipedia.org/api/rest_v1/page/summary/${encodeURIComponent(query)}`);
            if(!res.ok) throw new Error();
            return await res.json();
        } catch(e) { return null; }
    };

    // --- Init ---
    document.addEventListener('DOMContentLoaded', () => {
        renderGuide();
        document.getElementById('db-count').innerText = countries.length;
        loadDailyCountryData();
    });

    // --- Navigation ---
    function setTab(tab, btn) {
        document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
        document.querySelectorAll('.nav-btn').forEach(b => b.classList.remove('active'));
        document.getElementById(`sec-${tab}`).classList.add('active');
        btn.classList.add('active');
        window.scrollTo(0,0);
        if(tab !== 'quiz') quitQuiz();
    }

    // --- Guide ---
    let currentFilter = 'all';
    function renderGuide() {
        const grid = document.getElementById('guide-grid');
        grid.innerHTML = '';
        const term = document.getElementById('search-input').value.toLowerCase();
        
        const list = countries.filter(c => {
            const matchCat = currentFilter === 'all' || c.region === currentFilter;
            const matchSearch = c.country.toLowerCase().includes(term) || c.capital.toLowerCase().includes(term);
            return matchCat && matchSearch;
        });

        if(list.length === 0) {
            grid.innerHTML = '<div style="grid-column:1/-1; text-align:center; color:#999; padding:20px;">æ‰¾ä¸åˆ°ç›¸é—œåœ‹å®¶</div>';
            return;
        }

        list.forEach(c => {
            const el = document.createElement('div');
            el.className = 'plant-card';
            el.innerHTML = `
                <div class="p-name">${c.country}</div>
                <div class="p-cat">${c.capital}</div>
                <div class="status-badge ${getStatusClass(c.region)}">${c.region}</div>
            `;
            el.onclick = () => openModal(c);
            grid.appendChild(el);
        });
    }

    function setFilter(cat, btn) {
        currentFilter = cat;
        document.querySelectorAll('.filter-tag').forEach(t => t.classList.remove('active'));
        btn.classList.add('active');
        renderGuide();
    }

    // --- Daily ---
    let isDailyFlipped = false;
    let currentDailyCountry = null;

    function flipDailyCard() {
        if (isDailyFlipped) return;
        document.getElementById('daily-card-inner').classList.add('is-flipped');
        isDailyFlipped = true;
    }

    async function loadDailyCountryData() {
        const todayStr = new Date().toDateString();
        document.getElementById('daily-date-display').innerText = todayStr;
        
        // Pseudo-random based on date
        let hash = 0;
        for (let i = 0; i < todayStr.length; i++) hash = todayStr.charCodeAt(i) + ((hash << 5) - hash);
        const index = Math.abs(hash) % countries.length;
        const country = countries[index];
        currentDailyCountry = country;

        document.getElementById('daily-name').innerText = country.country;
        document.getElementById('daily-capital').innerText = country.capital;
        const badge = document.getElementById('daily-region');
        badge.innerText = country.region;
        badge.className = `status-badge ${getStatusClass(country.region)}`;

        // Fetch Data
        const data = await getWikiData(country.country);
        const img = document.getElementById('daily-img');
        const loader = document.getElementById('daily-loader');
        
        if(data) {
            document.getElementById('daily-desc').innerText = data.extract ? (data.extract.substring(0, 80) + "...") : "æš«ç„¡ç°¡ä»‹";
            const src = data.originalimage ? data.originalimage.source : (data.thumbnail ? data.thumbnail.source : null);
            if(src) {
                img.src = src;
                img.onload = () => { loader.style.display='none'; };
            } else {
                loader.style.display='none'; img.alt = "No Image Available";
            }
        } else {
            loader.style.display='none';
            document.getElementById('daily-desc').innerText = "ç„¡æ³•è¼‰å…¥è³‡æ–™";
        }
    }

    // --- Modal ---
    async function openModal(country) {
        if(!country) return;
        const modal = document.getElementById('modal');
        const img = document.getElementById('m-img');
        const loader = document.getElementById('m-loader');
        const err = document.getElementById('m-err');

        modal.style.display = 'flex';
        img.style.display = 'none';
        loader.style.display = 'block';
        err.style.display = 'none';

        document.getElementById('m-name').innerText = country.country;
        document.getElementById('m-capital').innerText = country.capital;
        document.getElementById('m-desc').innerText = "è®€å–ä¸­...";
        document.getElementById('m-wiki').href = `https://zh.wikipedia.org/wiki/${country.country}`;
        
        const badge = document.getElementById('m-region');
        badge.innerText = country.region;
        badge.className = `status-badge ${getStatusClass(country.region)}`;

        const data = await getWikiData(country.country);
        if(data) {
            document.getElementById('m-desc').innerText = data.extract || "ç„¡è©³ç´°è³‡æ–™";
            const src = data.originalimage ? data.originalimage.source : (data.thumbnail ? data.thumbnail.source : null);
            if(src) {
                img.src = src;
                img.onload = () => { loader.style.display='none'; img.style.display='block'; };
            } else {
                loader.style.display='none'; err.style.display='block';
            }
        } else {
            loader.style.display='none';
            document.getElementById('m-desc').innerText = "è³‡æ–™è®€å–å¤±æ•—";
        }
    }

    function closeModal(e) {
        if(!e || e.target.id === 'modal') document.getElementById('modal').style.display = 'none';
    }

    // --- Quiz ---
    let gameState = { queue: [], idx: 0, score: 0, answering: false };

    function startQuiz() {
        const shuffled = [...countries].sort(() => Math.random() - 0.5);
        gameState = { queue: shuffled.slice(0, 10), idx: 0, score: 0, answering: false };
        
        document.getElementById('quiz-menu').style.display = 'none';
        document.getElementById('quiz-result').style.display = 'none';
        document.getElementById('quiz-play').style.display = 'block';
        document.getElementById('q-score').innerText = 0;
        
        loadQuestion();
    }

    async function loadQuestion() {
        if(gameState.idx >= 10) { finishQuiz(); return; }
        
        const q = gameState.queue[gameState.idx];
        gameState.answering = true;

        document.getElementById('q-progress').innerText = `${gameState.idx+1} / 10`;
        document.getElementById('q-country').innerText = q.country;
        document.getElementById('next-btn').style.display = 'none';
        document.getElementById('feedback').innerText = '';
        
        const img = document.getElementById('q-img');
        const loader = document.getElementById('v-loader');
        img.style.display = 'none';
        loader.style.display = 'block';

        // Load image
        getWikiData(q.country).then(data => {
            const src = data && (data.originalimage ? data.originalimage.source : (data.thumbnail ? data.thumbnail.source : null));
            if(src) {
                img.src = src;
                img.onload = () => { loader.style.display='none'; img.style.display='block'; };
            } else {
                loader.style.display='none';
            }
        });

        // Options Logic
        let opts = [];
        opts.push({ text: q.capital, correct: true }); // æ­£è§£

        // èª˜ç­”é¸é …
        let distractors = [...(q.confusing_cities || [])]; // å…ˆåŠ å…¥è©²åœ‹çš„æ··æ·†åŸå¸‚
        
        // è‹¥ä¸è¶³3å€‹ï¼Œéš¨æ©Ÿå¾å…¶ä»–åœ‹å®¶é¦–éƒ½è£œå……
        const others = countries.filter(c => c.country !== q.country).sort(() => Math.random()-0.5);
        for(let o of others) {
            if(distractors.length >= 3) break;
            if(!distractors.includes(o.capital)) distractors.push(o.capital);
        }
        
        // å–å‰ä¸‰å€‹ä¸¦æ‰“äº‚
        distractors = distractors.slice(0, 3);
        distractors.forEach(d => opts.push({ text: d, correct: false }));
        opts.sort(() => Math.random() - 0.5);

        document.getElementById('opt-container').innerHTML = opts.map(o => 
            `<button class="opt-btn" onclick="checkAnswer(this, ${o.correct}, '${q.capital}')">${o.text}</button>`
        ).join('');
    }

    function checkAnswer(btn, isCorrect, ans) {
        if(!gameState.answering) return;
        gameState.answering = false;

        if(isCorrect) {
            btn.classList.add('correct');
            document.getElementById('feedback').innerText = "â­• ç­”å°äº†ï¼";
            document.getElementById('feedback').style.color = "var(--primary)";
            gameState.score += 10;
        } else {
            btn.classList.add('wrong');
            document.getElementById('feedback').innerText = `âŒ æ­£ç¢ºç­”æ¡ˆï¼š${ans}`;
            document.getElementById('feedback').style.color = "#d32f2f";
            // Show correct one
            document.querySelectorAll('.opt-btn').forEach(b => {
                if(b.innerText === ans) b.classList.add('correct');
            });
        }
        document.getElementById('q-score').innerText = gameState.score;
        document.getElementById('next-btn').style.display = 'block';
    }

    function nextQuestion() {
        gameState.idx++;
        loadQuestion();
    }

    function finishQuiz() {
        document.getElementById('quiz-play').style.display = 'none';
        document.getElementById('quiz-result').style.display = 'block';
        document.getElementById('final-score').innerText = gameState.score;
        
        let r = "ğŸŒ± åœ°ç†æ–°æ‰‹";
        if(gameState.score === 100) r = "ğŸŒ ä¸–ç•Œåœ°ç†ä¹‹ç¥";
        else if(gameState.score >= 80) r = "ğŸ—ºï¸ ç’°çƒæ—…è¡Œå®¶";
        else if(gameState.score >= 60) r = "âœˆï¸ é£›è¡Œå¸¸å®¢";
        
        document.getElementById('final-rank').innerText = r;
    }

    function quitQuiz() {
        document.getElementById('quiz-play').style.display = 'none';
        document.getElementById('quiz-result').style.display = 'none';
        document.getElementById('quiz-menu').style.display = 'block';
    }
</script>

</body>
</html>
